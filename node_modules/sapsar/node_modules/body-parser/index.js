/*!
 * body-parser
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */
"use strict";var deprecate=require("depd")("body-parser"),parsers=Object.create(null);function bodyParser(options){var opts=Object.create(options||null,{type:{configurable:!0,enumerable:!0,value:void 0,writable:!0}}),_urlencoded=exports.urlencoded(opts),_json=exports.json(opts);return function(req,res,next){_json(req,res,(function(err){if(err)return next(err);_urlencoded(req,res,next)}))}}function createParserGetter(name){return function(){return loadParser(name)}}function loadParser(parserName){var parser=parsers[parserName];if(void 0!==parser)return parser;switch(parserName){case"json":parser=require("./lib/types/json");break;case"raw":parser=require("./lib/types/raw");break;case"text":parser=require("./lib/types/text");break;case"urlencoded":parser=require("./lib/types/urlencoded")}return parsers[parserName]=parser}exports=module.exports=deprecate.function(bodyParser,"bodyParser: use individual json/urlencoded middlewares"),Object.defineProperty(exports,"json",{configurable:!0,enumerable:!0,get:createParserGetter("json")}),Object.defineProperty(exports,"raw",{configurable:!0,enumerable:!0,get:createParserGetter("raw")}),Object.defineProperty(exports,"text",{configurable:!0,enumerable:!0,get:createParserGetter("text")}),Object.defineProperty(exports,"urlencoded",{configurable:!0,enumerable:!0,get:createParserGetter("urlencoded")});