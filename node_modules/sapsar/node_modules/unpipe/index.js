/*!
 * unpipe
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
"use strict";function hasPipeDataListeners(stream){for(var listeners=stream.listeners("data"),i=0;i<listeners.length;i++)if("ondata"===listeners[i].name)return!0;return!1}function unpipe(stream){if(!stream)throw new TypeError("argument stream is required");if("function"!=typeof stream.unpipe){if(hasPipeDataListeners(stream))for(var listener,listeners=stream.listeners("close"),i=0;i<listeners.length;i++)"cleanup"!==(listener=listeners[i]).name&&"onclose"!==listener.name||listener.call(stream)}else stream.unpipe()}module.exports=unpipe;