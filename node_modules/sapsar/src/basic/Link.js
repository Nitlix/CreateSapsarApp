const ParseArgs=require("./ParseArgs"),MergeProps=require("./MergeProps"),{a:a,manualScript:manualScript,link:link}=require("sapsar/base"),{genChars:genChars}=require("../util/Random");function Link(...args){const{content:content,props:props}=ParseArgs(args),id=`stl_${genChars(15)}`;if(!props.href)throw new Error("Using sapsar/basic/Link: A href is required but not present.");return a(MergeProps(props,{class:id}),content,`<script data-stl>const ${id} = document.querySelector('.${id}'); new IntersectionObserver(()=>{ document.head.innerHTML += '${link({rel:"prefetch",href:props.href,as:"document"})}'}, {root: ${id},rootMargin: "500px",threshold: 0}).observe(${id})<\/script>`)}module.exports=Link;